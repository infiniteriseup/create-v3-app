{"version":3,"sources":["../src/createProject.ts","../src/constants.ts","../src/gui.ts","../src/git.ts","../src/installDependencies.ts","../src/utils.ts","../src/logNextSteps.ts","../src/userOptions.ts","../src/index.ts"],"sourcesContent":["import { resolve } from 'path';\r\nimport fs from 'fs-extra';\r\nimport ora, { Ora } from 'ora';\r\nimport inquirer from 'inquirer';\r\nimport { PKG_ROOT } from './constants.js';\r\nimport { info, success, warn } from './gui.js';\r\n\r\nexport type CreateProjectOptions = {\r\n  projectName?: string;\r\n  projectDir: string;\r\n};\r\n\r\nconst cleanupProjectDir = async (\r\n  { projectName, projectDir }: CreateProjectOptions,\r\n  spinner: Ora\r\n) => {\r\n  if (!fs.existsSync(projectDir)) return;\r\n\r\n  const isEmpty = fs.readdirSync(projectDir).length === 0;\r\n  const isCwd = projectName === '.';\r\n\r\n  if (isEmpty && !isCwd) {\r\n    spinner.info(`${info(projectName)} exists but is empty, continuing...\\n`);\r\n    return;\r\n  }\r\n\r\n  spinner.stopAndPersist();\r\n\r\n  const { shouldAbort } = await inquirer.prompt<{\r\n    shouldAbort: boolean;\r\n  }>({\r\n    name: 'shouldAbort',\r\n    type: 'list',\r\n    message: `${warn('Warning:')} ${warn(\r\n      projectName\r\n    )} already exists and isn't empty. How would you like to proceed?`,\r\n    choices: [\r\n      {\r\n        name: 'Abort installation (recommended)',\r\n        value: true,\r\n        short: 'Abort'\r\n      },\r\n      {\r\n        name: 'Clear the directory and continue installation',\r\n        value: false,\r\n        short: 'Clear'\r\n      }\r\n    ],\r\n    default: true\r\n  });\r\n\r\n  if (shouldAbort) {\r\n    spinner.fail('Aborting installation...');\r\n    process.exit(1);\r\n  }\r\n\r\n  spinner.info(`Emptying ${info(projectName)} and creating t3 app..\\n`);\r\n  fs.emptyDirSync(projectDir);\r\n};\r\n\r\nconst renameDotFiles = (projectDir: string) => {\r\n  const files = fs.readdirSync(projectDir);\r\n  files.forEach(file => {\r\n    if (!file.startsWith('_')) return;\r\n    fs.renameSync(\r\n      resolve(projectDir, file),\r\n      resolve(projectDir, `.${file.slice(1)}`)\r\n    );\r\n  });\r\n};\r\n\r\nexport const createProject = async ({\r\n  projectName,\r\n  projectDir\r\n}: CreateProjectOptions) => {\r\n  const spinner = ora(`Creating project in: ${projectDir}...\\n`).start();\r\n\r\n  await cleanupProjectDir({ projectName, projectDir }, spinner);\r\n\r\n  spinner.start();\r\n\r\n  const srcDir = resolve(PKG_ROOT, 'template');\r\n  fs.copySync(srcDir, projectDir);\r\n  renameDotFiles(projectDir);\r\n\r\n  const scaffoldedName = projectName === '.' ? 'App' : info(projectName);\r\n\r\n  spinner.succeed(`${scaffoldedName} ${success('scaffolded successfully!')}\\n`);\r\n};\r\n","import path from 'path';\r\nimport { fileURLToPath } from 'url';\r\nimport figlet from 'figlet';\r\n\r\nconst __filename = fileURLToPath(import.meta.url);\r\nconst distPath = path.dirname(__filename);\r\n\r\nexport const PKG_ROOT = path.join(distPath, '../');\r\n\r\nexport const TITLE_TEXT = figlet.textSync('Create V3 App', {\r\n  font: 'Epic'\r\n});\r\nexport const DEFAULT_APP_NAME = 'my-v3-app';\r\nexport const CREATE_V3_APP = 'create-v3-app';\r\n","import chalk from 'chalk';\r\nimport gradientString from 'gradient-string';\r\nimport { TITLE_TEXT } from './constants.js';\r\n\r\nexport const renderTitle = () => {\r\n  const gradient = gradientString(\r\n    Object.values([\r\n      '#2ef232',\r\n      '#00e96b',\r\n      '#00dd96',\r\n      '#00d0b8',\r\n      '#00c1d2',\r\n      '#00b1e0',\r\n      '#00a0e3',\r\n      '#008ddb',\r\n      '#007bc9'\r\n    ])\r\n  );\r\n\r\n  console.log(gradient.multiline(TITLE_TEXT));\r\n};\r\n\r\nexport const error = (...args: unknown[]) => {\r\n  return chalk.red(...args);\r\n};\r\nexport const warn = (...args: unknown[]) => {\r\n  return chalk.yellow(...args);\r\n};\r\nexport const info = (...args: unknown[]) => {\r\n  return chalk.cyan(...args);\r\n};\r\nexport const success = (...args: unknown[]) => {\r\n  return chalk.green(...args);\r\n};\r\n\r\nexport const logger = {\r\n  error(...args: unknown[]) {\r\n    console.log(error(...args));\r\n  },\r\n  warn(...args: unknown[]) {\r\n    console.log(warn(...args));\r\n  },\r\n  info(...args: unknown[]) {\r\n    console.log(info(...args));\r\n  },\r\n  success(...args: unknown[]) {\r\n    console.log(success(...args));\r\n  }\r\n};\r\n","import chalk from 'chalk';\r\nimport { execSync } from 'child_process';\r\nimport { execa } from 'execa';\r\nimport fs from 'fs-extra';\r\nimport inquirer from 'inquirer';\r\nimport ora, { type Ora } from 'ora';\r\nimport path from 'path';\r\nimport { error, logger, success } from './gui.js';\r\n\r\nconst isGitInstalled = (dir: string): boolean => {\r\n  try {\r\n    execSync('git --version', { cwd: dir });\r\n    return true;\r\n  } catch (_e) {\r\n    return false;\r\n  }\r\n};\r\n\r\nconst isRootGitRepo = (dir: string): boolean => {\r\n  return fs.existsSync(path.join(dir, '.git'));\r\n};\r\n\r\nconst isInsideGitRepo = async (dir: string): Promise<boolean> => {\r\n  try {\r\n    await execa('git', ['rev-parse', '--is-inside-work-tree'], {\r\n      cwd: dir,\r\n      stdout: 'ignore'\r\n    });\r\n    return true;\r\n  } catch {\r\n    return false;\r\n  }\r\n};\r\n\r\nconst getGitVersion = () => {\r\n  const stdout = execSync('git --version').toString().trim();\r\n  const gitVersionTag = stdout.split(' ')[2];\r\n  const [major, minor] = gitVersionTag?.split('.') || [0, 0];\r\n\r\n  return { major: Number(major), minor: Number(minor) };\r\n};\r\n\r\nconst getDefaultBranch = () => {\r\n  const stdout = execSync('git config --global init.defaultBranch || echo main')\r\n    .toString()\r\n    .trim();\r\n\r\n  return stdout;\r\n};\r\n\r\nconst checkExistingRepo = async (\r\n  projectDir: string,\r\n  spinner: Ora\r\n): Promise<boolean> => {\r\n  const isRoot = isRootGitRepo(projectDir);\r\n  if (!isRoot) return false;\r\n\r\n  const isInside = await isInsideGitRepo(projectDir);\r\n  const dirName = path.parse(projectDir).name; // skip full path for logging\r\n\r\n  if (isInside) {\r\n    spinner.stop();\r\n    const { overwriteGit } = await inquirer.prompt<{\r\n      overwriteGit: boolean;\r\n    }>({\r\n      name: 'overwriteGit',\r\n      type: 'confirm',\r\n      message: `${error(\r\n        'Warning:'\r\n      )} Git is already initialized in \"${dirName}\". Initializing a new git repository would delete the previous history. Would you like to continue anyways?`,\r\n      default: false\r\n    });\r\n    if (overwriteGit) {\r\n      fs.removeSync(path.join(projectDir, '.git'));\r\n    }\r\n\r\n    return !overwriteGit;\r\n  } else {\r\n    spinner.stop();\r\n    const { initializeChildGitRepo } = await inquirer.prompt<{\r\n      initializeChildGitRepo: boolean;\r\n    }>({\r\n      name: 'initializeChildGitRepo',\r\n      type: 'confirm',\r\n      message: `${error(\r\n        'Warning:'\r\n      )} \"${dirName}\" is already in a git worktree. Would you still like to initialize a new git repository in this directory?`,\r\n      default: false\r\n    });\r\n\r\n    return !initializeChildGitRepo;\r\n  }\r\n};\r\n\r\nexport const initializeGit = async (projectDir: string) => {\r\n  logger.info('Initializing Git...');\r\n\r\n  if (!isGitInstalled(projectDir)) {\r\n    logger.warn('Git is not installed. Skipping Git initialization.');\r\n    return;\r\n  }\r\n\r\n  const spinner = ora('Creating a new git repo...\\n').start();\r\n\r\n  const shouldAbort = await checkExistingRepo(projectDir, spinner);\r\n  if (shouldAbort) {\r\n    spinner.info('Skipping git initialization...');\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const branchName = getDefaultBranch();\r\n\r\n    const { major, minor } = getGitVersion();\r\n    if (major < 2 || minor < 28) {\r\n      await execa('git', ['init'], { cwd: projectDir });\r\n      await execa('git', ['branch', '-m', branchName], { cwd: projectDir });\r\n    } else {\r\n      await execa('git', ['init', `--initial-branch=${branchName}`], {\r\n        cwd: projectDir\r\n      });\r\n    }\r\n    await execa('git', ['add', '.'], { cwd: projectDir });\r\n    spinner.succeed(\r\n      `${success('Successfully initialized and staged')} ${chalk.green.bold(\r\n        'git'\r\n      )}\\n`\r\n    );\r\n  } catch (err) {\r\n    spinner.fail(\r\n      `${error(\r\n        'Failed:'\r\n      )} could not initialize git. Update git to the latest version!\\n`\r\n    );\r\n  }\r\n};\r\n","import chalk from 'chalk';\r\nimport { execa } from 'execa';\r\nimport ora, { type Ora } from 'ora';\r\nimport { logger } from './gui.js';\r\nimport { PackageManager, getUserPkgManager } from './utils.js';\r\n\r\ntype InstallFunction = (projectDir: string) => Promise<Ora>;\r\n\r\nconst installWithNpm: InstallFunction = async projectDir => {\r\n  await execa('npm', ['install'], {\r\n    cwd: projectDir,\r\n    stderr: 'inherit'\r\n  });\r\n\r\n  return ora();\r\n};\r\n\r\nconst installWithYarn: InstallFunction = async projectDir => {\r\n  const spinner = ora('Running yarn...').start();\r\n  const yarnSubprocess = execa('yarn', [], {\r\n    cwd: projectDir,\r\n    stdout: 'pipe'\r\n  });\r\n\r\n  await new Promise<void>((res, rej) => {\r\n    yarnSubprocess.stdout?.on('data', (data: Buffer) => {\r\n      spinner.text = data.toString();\r\n    });\r\n    yarnSubprocess.on('error', e => rej(e));\r\n    yarnSubprocess.on('close', () => res());\r\n  });\r\n\r\n  return spinner;\r\n};\r\n\r\nconst installWithPnpm: InstallFunction = async projectDir => {\r\n  const spinner = ora('Running pnpm install...').start();\r\n  const pnpmSubprocess = execa('pnpm', ['install'], {\r\n    cwd: projectDir,\r\n    stdout: 'pipe'\r\n  });\r\n\r\n  await new Promise<void>((res, rej) => {\r\n    pnpmSubprocess.stdout?.on('data', (data: Buffer) => {\r\n      const text = data.toString();\r\n\r\n      if (text.includes('Progress')) {\r\n        spinner.text = text.includes('|') ? text.split(' | ')[1] ?? '' : text;\r\n      }\r\n    });\r\n    pnpmSubprocess.on('error', e => rej(e));\r\n    pnpmSubprocess.on('close', () => res());\r\n  });\r\n\r\n  return spinner;\r\n};\r\n\r\nconst runInstallCommand = async (\r\n  pkgManager: PackageManager,\r\n  projectDir: string\r\n): Promise<Ora> => {\r\n  switch (pkgManager) {\r\n    case 'npm':\r\n      return installWithNpm(projectDir);\r\n    case 'pnpm':\r\n      return installWithPnpm(projectDir);\r\n    case 'yarn':\r\n      return installWithYarn(projectDir);\r\n  }\r\n};\r\n\r\nexport const installDependencies = async (projectDir: string) => {\r\n  logger.info('Installing dependencies...');\r\n  const pkgManager = getUserPkgManager();\r\n\r\n  const installSpinner = await runInstallCommand(pkgManager, projectDir);\r\n\r\n  installSpinner.succeed(chalk.green('Successfully installed dependencies!\\n'));\r\n};\r\n","import { resolve, basename } from 'path';\r\n\r\nexport type PackageManager = 'npm' | 'pnpm' | 'yarn';\r\n\r\nexport const getUserPkgManager: () => PackageManager = () => {\r\n  const userAgent = process.env.npm_config_user_agent;\r\n\r\n  if (userAgent?.startsWith('yarn')) return 'yarn';\r\n  if (userAgent?.startsWith('pnpm')) return 'pnpm';\r\n  return 'npm';\r\n};\r\n\r\nconst validationRegExp =\r\n  /^(?:@[a-z0-9-*~][a-z0-9-*._~]*\\/)?[a-z0-9-~][a-z0-9-._~]*$/;\r\n\r\nexport const validateAppName = (input: string) => {\r\n  const paths = input.split('/');\r\n\r\n  const indexOfDelimiter = paths.findIndex(p => p.startsWith('@'));\r\n\r\n  let appName = paths[paths.length - 1];\r\n  if (paths.findIndex(p => p.startsWith('@')) !== -1) {\r\n    appName = paths.slice(indexOfDelimiter).join('/');\r\n  }\r\n\r\n  if (input === '.' || validationRegExp.test(appName ?? '')) {\r\n    return true;\r\n  } else {\r\n    return \"App name must consist of only lowercase alphanumeric characters, '-', and '_'\";\r\n  }\r\n};\r\n\r\nexport const parseNameAndPath = (input: string) => {\r\n  const paths = input.split('/');\r\n\r\n  let appName = paths[paths.length - 1];\r\n\r\n  if (appName === '.') {\r\n    const parsedCwd = resolve(process.cwd());\r\n    appName = basename(parsedCwd);\r\n  }\r\n\r\n  // If the first part is a @, it's a scoped package\r\n  const indexOfDelimiter = paths.findIndex(p => p.startsWith('@'));\r\n  if (indexOfDelimiter !== -1) {\r\n    appName = paths.slice(indexOfDelimiter).join('/');\r\n  }\r\n\r\n  const path = paths.filter(p => !p.startsWith('@')).join('/');\r\n\r\n  return [appName, path] as const;\r\n};\r\n","import { logger } from './gui.js';\r\nimport { CliOptions } from './userOptions.js';\r\nimport { getUserPkgManager } from './utils.js';\r\n\r\nexport const logNextSteps = (projectName: string, options: CliOptions) => {\r\n  const pkgManager = getUserPkgManager();\r\n  logger.info('Next steps:');\r\n  projectName !== '.' && logger.info(`  cd ${projectName}`);\r\n  options.noInstall &&\r\n    logger.info(`  ${pkgManager} ${pkgManager === 'yarn' ? '' : 'install'}`);\r\n  logger.info(`  ${pkgManager === 'npm' ? 'npx' : pkgManager} prisma db push`);\r\n  logger.info(`  ${pkgManager === 'npm' ? 'npm run' : pkgManager} dev`);\r\n};\r\n","import { Command } from 'commander';\r\nimport { Merge } from 'type-fest';\r\nimport inquirer from 'inquirer';\r\nimport asciify from 'asciify-image';\r\nimport { resolve } from 'path';\r\nimport { CREATE_V3_APP, DEFAULT_APP_NAME, PKG_ROOT } from './constants.js';\r\nimport { getUserPkgManager, validateAppName } from './utils.js';\r\nimport { logger } from './gui.js';\r\n\r\nexport type CliOptions = {\r\n  name: string;\r\n  noGit: boolean;\r\n  noInstall: boolean;\r\n};\r\n\r\nconst defaults: CliOptions = {\r\n  name: DEFAULT_APP_NAME,\r\n  noGit: false,\r\n  noInstall: false\r\n};\r\n\r\nconst checkInteractive = async () => {\r\n  const isNonInteractive =\r\n    process.env.SHELL?.toLowerCase().includes('git') &&\r\n    process.env.SHELL?.includes('bash');\r\n\r\n  if (!isNonInteractive) {\r\n    return {\r\n      interactive: true,\r\n      shouldContinue: true\r\n    };\r\n  }\r\n\r\n  logger.warn(`WARNING: It looks like you are using Git Bash which is non-interactive. In order to provide options with the interactive CLI, please run create-v3t3-app with another\r\n      terminal.`);\r\n\r\n  const { shouldContinue } = await inquirer.prompt<{\r\n    shouldContinue: boolean;\r\n  }>({\r\n    name: 'shouldContinue',\r\n    type: 'confirm',\r\n    message: `Continue scaffolding a default V3 app?`,\r\n    default: true\r\n  });\r\n\r\n  return { interactive: false, shouldContinue };\r\n};\r\n\r\nconst getCliArgs = (): Merge<CliOptions, { name: string | undefined }> => {\r\n  const program = new Command().name(CREATE_V3_APP);\r\n  program\r\n    .description('A CLI for creating web applications with the v3 stack')\r\n    .argument(\r\n      '[dir]',\r\n      'The name of the application, as well as the name of the directory to create'\r\n    )\r\n    .option(\r\n      '--noGit',\r\n      'Explicitly tell the CLI to not initialize a new git repo in the project',\r\n      false\r\n    )\r\n    .option(\r\n      '--noInstall',\r\n      \"Explicitly tell the CLI to not run the package manager's install command\",\r\n      false\r\n    )\r\n    .parse(process.argv);\r\n\r\n  return program.opts();\r\n};\r\n\r\nconst promptAppName = async (): Promise<string> => {\r\n  const { name } = await inquirer.prompt<Pick<CliOptions, 'name'>>({\r\n    name: 'name',\r\n    type: 'input',\r\n    message: 'What will your project be called?',\r\n    default: defaults.name,\r\n    validate: validateAppName,\r\n    transformer: (input: string) => {\r\n      return input.trim();\r\n    }\r\n  });\r\n\r\n  return name;\r\n};\r\n\r\nconst promptGit = async (): Promise<boolean> => {\r\n  const { git } = await inquirer.prompt<{ git: boolean }>({\r\n    name: 'git',\r\n    type: 'confirm',\r\n    message: 'Initialize a new git repository?',\r\n    default: true\r\n  });\r\n\r\n  return git;\r\n};\r\n\r\nconst promptInstall = async (): Promise<boolean> => {\r\n  const pkgManager = getUserPkgManager();\r\n\r\n  const { install } = await inquirer.prompt<{ install: boolean }>({\r\n    name: 'install',\r\n    type: 'confirm',\r\n    message:\r\n      `Would you like us to run '${pkgManager}` +\r\n      (pkgManager === 'yarn' ? `'?` : ` install'?`),\r\n    default: true\r\n  });\r\n\r\n  return install;\r\n};\r\n\r\nconst runCli = async () => {\r\n  const cliArgs = getCliArgs();\r\n\r\n  const options = Object.assign(cliArgs, {\r\n    name: cliArgs.name || (await promptAppName()),\r\n    noGit: cliArgs.noGit || !(await promptGit()),\r\n    noInstall: cliArgs.noGit || !(await promptInstall())\r\n  });\r\n\r\n  return options;\r\n};\r\n\r\nconst promptTailwind = async () => {\r\n  const { language } = await inquirer.prompt<{ language: string }>({\r\n    name: 'language',\r\n    type: 'list',\r\n    message: 'Which styling solutions would you like to use ?',\r\n    choices: [\r\n      { name: 'Open Props', value: 'openprops', short: 'openprops' },\r\n      { name: 'Tailwind', value: 'tailwind', short: 'tailwind' }\r\n    ],\r\n    default: 'openprops'\r\n  });\r\n\r\n  if (language === 'tailwind') {\r\n    const duck = await asciify(resolve(PKG_ROOT, 'src/assets/duck.jpg'), {\r\n      fit: 'box',\r\n      width: 20,\r\n      height: 20\r\n    });\r\n    console.log(duck);\r\n    logger.info('Wrong choice KEKW');\r\n    logger.info(\r\n      \"Create V3 App believes in web fundamentals and doesn't support tailwind out of the box.\"\r\n    );\r\n    logger.info(\r\n      \"Don't worry, you can easily setup tailwind yourself by adding the tailwind nuxt module.\"\r\n    );\r\n  } else {\r\n    logger.success('Ah, I see you are a person of culture.');\r\n  }\r\n};\r\n\r\nexport const getUserOptions = async (): Promise<CliOptions> => {\r\n  const { shouldContinue, interactive } = await checkInteractive();\r\n  if (!shouldContinue) process.exit(0);\r\n\r\n  const options = interactive ? await runCli() : defaults;\r\n  await promptTailwind();\r\n\r\n  return options;\r\n};\r\n","#!/usr/bin/env node\r\n\r\nimport { createProject } from './createProject.js';\r\nimport { initializeGit } from './git.js';\r\nimport { logger, renderTitle } from './gui.js';\r\nimport { installDependencies } from './installDependencies.js';\r\nimport { logNextSteps } from './logNextSteps.js';\r\nimport { getUserOptions } from './userOptions.js';\r\nimport { parseNameAndPath } from './utils.js';\r\n\r\n(async function () {\r\n  renderTitle();\r\n  const options = await getUserOptions();\r\n  const [projectName, projectDir] = parseNameAndPath(options.name);\r\n\r\n  await createProject({ projectName, projectDir });\r\n\r\n  if (!options.noInstall) {\r\n    await installDependencies(projectDir);\r\n  }\r\n\r\n  if (!options.noGit) {\r\n    await initializeGit(projectDir);\r\n  }\r\n\r\n  logNextSteps(projectName as string, options);\r\n\r\n  process.exit(0);\r\n})().catch(err => {\r\n  logger.error('Aborting installation...');\r\n  if (err instanceof Error) {\r\n    logger.error(err);\r\n  } else {\r\n    logger.error(\r\n      'An unknown error has occurred. Please open an issue on github with the below:'\r\n    );\r\n    console.log(err);\r\n  }\r\n  process.exit(1);\r\n});\r\n"],"mappings":"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","names":["chalk","fs","inquirer","ora","path","fs","path","inquirer","ora","chalk","chalk","execa","ora","resolve","path","execa","ora","chalk","inquirer","resolve","inquirer","resolve"]}